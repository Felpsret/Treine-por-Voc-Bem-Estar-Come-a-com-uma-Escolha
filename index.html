<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Indicadores de Sa√∫de ‚Ä¢ Relat√≥rio Personalizado</title>
  <style>
    :root{
      --bg:#0b0f19; --card:#111827; --text:#e5e7eb; --muted:#9ca3af;
      --border:rgba(255,255,255,.12);
      --accent:#7c3aed; --accent2:#3b82f6;
      --danger:#ef4444; --ok:#22c55e; --warn:#f59e0b;

      --radius:18px;
      --pad:18px;
      --gap:14px;
    }

    *{ box-sizing:border-box; }

    body{
      margin:0;
      font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
      background:
        radial-gradient(1200px 600px at 20% 0%, rgba(124,58,237,.22), transparent 60%),
        radial-gradient(900px 500px at 90% 10%, rgba(59,130,246,.18), transparent 55%),
        var(--bg);
      color:var(--text);
      min-height:100vh;
      padding: clamp(14px, 2.5vw, 24px);
      display:grid;
      place-items:start center;
      /* reserva espa√ßo pro float + safe area */
      padding-bottom: calc(110px + env(safe-area-inset-bottom, 0px));
    }

    .wrap{ width:min(980px, 100%); }

    /* T√≠tulo superior (responsivo) */
    .hero-title{
      margin: 0 0 12px;
      font-size: clamp(18px, 2.2vw, 28px);
      line-height: 1.15;
      letter-spacing: -0.02em;
    }
    .hero-sub{
      margin: 0 0 18px;
      color: var(--muted);
      font-size: clamp(13px, 1.5vw, 14px);
      line-height: 1.45;
    }

    .header{
      display:flex;
      justify-content:space-between;
      align-items:flex-end;
      gap:16px;
      margin-bottom:14px;
    }
    .title h1{
      margin:0;
      font-size: clamp(18px, 2vw, 22px);
      letter-spacing: -0.01em;
    }
    .title p{
      margin:6px 0 0;
      color:var(--muted);
      font-size: 13px;
      line-height: 1.4;
    }

    .card{
      background: linear-gradient(180deg, rgba(255,255,255,.04), transparent 30%), var(--card);
      border:1px solid var(--border);
      border-radius: var(--radius);
      padding: var(--pad);
      box-shadow:0 20px 60px rgba(0,0,0,.35);
      margin-bottom:16px;
    }

    form{ display:grid; gap: var(--gap); }

    .grid{ display:grid; gap: var(--gap); grid-template-columns:1fr; }
    @media (min-width: 920px){
      .grid{ grid-template-columns:1fr 1fr; }
    }

    label{ display:grid; gap:6px; font-size:13px; color:var(--muted); }
    input, select, textarea{
      width:100%;
      padding:12px;
      background:rgba(255,255,255,.03);
      color:var(--text);
      border:1px solid var(--border);
      border-radius:12px;
      outline:none;
      transition:border .15s ease, box-shadow .15s ease;
      font-size: 14px;
    }
    textarea{ min-height:100px; resize:vertical; }
    input:focus, select:focus, textarea:focus{
      border-color: rgba(124,58,237,.8);
      box-shadow: 0 0 0 4px rgba(124,58,237,.18);
    }

    fieldset{
      border:1px solid var(--border);
      border-radius:14px;
      padding:14px;
      background: rgba(255,255,255,.02);
    }
    legend{ padding:0 8px; color:var(--text); font-weight:700; font-size:14px; }

    .options{ display:grid; gap:10px; margin-top:10px; }
    .opt{
      display:flex; gap:10px; align-items:flex-start;
      padding:10px; border-radius:12px;
      border:1px solid rgba(255,255,255,.08);
      background: rgba(255,255,255,.02);
    }
    .opt input{ margin-top:3px; }
    .opt .t{ color:var(--text); font-size:14px; font-weight:650; }
    .opt .d{ color:var(--muted); font-size:12px; margin-top:2px; }

    .row{
      display:flex;
      gap:12px;
      align-items:center;
      justify-content:space-between;
      flex-wrap:wrap;
    }

    .btn{
      border:0; border-radius:12px;
      padding:12px 14px;
      background: linear-gradient(90deg, rgba(124,58,237,1), rgba(59,130,246,1));
      color:white; font-weight:800;
      cursor:pointer;
      min-height: 44px; /* toque confort√°vel */
    }
    .btn.secondary{
      background: rgba(255,255,255,.06);
      border:1px solid var(--border);
      font-weight:650;
    }
    .btn[disabled]{ opacity:.6; cursor:not-allowed; }
    .help{ color:var(--muted); font-size:12px; line-height: 1.4; }

    .error{ display:none; color:var(--danger); font-size:12px; margin-top:6px; }
    .error.show{ display:block; }

    .status{
      display:none;
      padding:12px; border-radius:12px;
      border:1px solid var(--border);
      background: rgba(255,255,255,.03);
      font-size:14px;
      line-height: 1.4;
    }
    .status.ok{ border-color: rgba(34,197,94,.35); }
    .status.bad{ border-color: rgba(239,68,68,.35); }

    .results{ display:none; gap:14px; }
    .cards{
      display:grid; gap:14px;
      grid-template-columns:1fr;
    }
    @media (min-width: 920px){
      .cards{ grid-template-columns:1fr 1fr 1fr; }
    }

    .metric{
      padding:14px;
      border-radius:16px;
      border:1px solid var(--border);
      background: rgba(255,255,255,.03);
    }
    .metric .k{ color:var(--muted); font-size:12px; }
    .metric .v{ font-size:22px; font-weight:850; margin-top:6px; }
    .badge{
      display:inline-flex; align-items:center; gap:8px;
      font-size:12px;
      padding:6px 10px;
      border-radius:999px;
      border:1px solid var(--border);
      background: rgba(255,255,255,.03);
      margin-top:8px;
      color: var(--text);
      line-height: 1.2;
    }
    .badge.ok{ border-color: rgba(34,197,94,.35); }
    .badge.warn{ border-color: rgba(245,158,11,.35); }
    .badge.bad{ border-color: rgba(239,68,68,.35); }

    .section-title{
      display:flex; align-items:baseline; justify-content:space-between; gap:12px;
      margin: 2px 0 10px;
    }
    .section-title h2{ margin:0; font-size:16px; }
    .section-title span{ color:var(--muted); font-size:12px; }

    ul{ margin:10px 0 0; padding-left:18px; color:var(--text); }
    li{ margin:8px 0; color: var(--text); line-height: 1.4; }
    .muted{ color:var(--muted); }

    /* Honeypot */
    .hp{ position:absolute; left:-9999px; top:-9999px; }

    /* ====== CONTEXTO BRASIL (TOPO) ====== */
    .context { margin-bottom: 16px; }

    .kpis{
      display:grid; gap:12px;
      grid-template-columns:1fr;
      margin-top:10px;
    }
    @media (min-width: 920px){
      .kpis{ grid-template-columns:1fr 1fr 1fr 1fr; }
    }
    .kpi{
      padding:14px;
      border-radius:16px;
      border:1px solid var(--border);
      background: rgba(255,255,255,.03);
    }
    .kpi .k{ color:var(--muted); font-size:12px; }
    .kpi .v{ font-size:18px; font-weight:850; margin-top:6px; }
    .kpi .t{ color:var(--muted); font-size:12px; margin-top:6px; line-height: 1.35; }

    /* ====== TABELAS RESPONSIVAS ======
       Desktop/tablet: tabela normal.
       Mobile: vira "cards" por linha (sem scroll horizontal). */
    .tablewrap{
      border:1px solid var(--border);
      border-radius:14px;
      background: rgba(255,255,255,.02);
      overflow:hidden;
    }
    table{ width:100%; border-collapse:collapse; }
    th, td{
      text-align:left;
      padding:12px;
      border-bottom:1px solid rgba(255,255,255,.08);
      vertical-align:top;
      font-size:13px;
    }
    th{ color:var(--text); font-weight:800; }
    caption{
      text-align:left;
      padding:12px;
      color:var(--text);
      font-weight:850;
      font-size:14px;
    }
    .note{
      margin-top:10px;
      color:var(--muted);
      font-size:12px;
      line-height:1.4;
    }
    .hr{
      height:1px;
      background: rgba(255,255,255,.10);
      margin:14px 0;
      border:0;
    }

    @media (max-width: 720px){
      /* Tabela vira cards */
      .tablewrap{ overflow: visible; }
      table, thead, tbody, th, td, tr{ display:block; width:100%; }
      thead{ display:none; }
      caption{ padding-bottom: 6px; }
      tr{
        border-top:1px solid rgba(255,255,255,.08);
        padding: 10px 12px;
      }
      tbody tr:first-child{ border-top:none; }
      td{
        border-bottom:none;
        padding: 8px 0;
        display:flex;
        gap: 10px;
        justify-content: space-between;
      }
      td::before{
        content: attr(data-label);
        color: var(--muted);
        font-weight: 650;
        padding-right: 10px;
      }
    }

    /* ===== Float moderno (copyright) ===== */
    .floating-copyright{
      position: fixed;
      left: 16px;
      bottom: calc(16px + env(safe-area-inset-bottom, 0px));
      z-index: 9999;

      display: inline-flex;
      align-items: center;
      gap: 10px;

      padding: 10px 14px;
      border-radius: 14px;

      background: linear-gradient(135deg, rgba(17, 24, 39, 0.72), rgba(17, 24, 39, 0.45));
      border: 1px solid rgba(255,255,255,0.14);
      backdrop-filter: blur(12px);
      box-shadow: 0 18px 45px rgba(0,0,0,0.35), inset 0 1px 0 rgba(255,255,255,0.08);

      color: rgba(229,231,235,0.92);
      font-size: 12px;
      line-height: 1.2;
      max-width: min(520px, calc(100vw - 32px));
    }

    .floating-copyright .dot{
      width: 10px;
      height: 10px;
      border-radius: 999px;
      background: radial-gradient(circle at 30% 30%, rgba(124,58,237,1), rgba(59,130,246,1));
      box-shadow: 0 0 0 4px rgba(124,58,237,0.15);
      flex: 0 0 auto;
    }
    .floating-copyright .text{ display: grid; gap: 2px; }
    .floating-copyright .text strong{
      font-weight: 800;
      color: rgba(255,255,255,0.95);
    }
    .floating-copyright .text span{ color: rgba(229,231,235,0.75); }

    /* No mobile, centraliza e deixa mais compacto */
    @media (max-width: 520px){
      .floating-copyright{
        left: 12px;
        right: 12px;
        bottom: calc(12px + env(safe-area-inset-bottom, 0px));
        max-width: none;
        justify-content: center;
        border-radius: 16px;
        padding: 10px 12px;
        text-align: center;
      }
      .floating-copyright .text{
        text-align:center;
      }
    }
  </style>
</head>

<body>
  <div class="wrap">
    <h1 class="hero-title">Treine por Voc√™: Bem-Estar Come√ßa com uma Escolha</h1>
    <p class="hero-sub">Preencha o formul√°rio e receba indicadores e recomenda√ß√µes personalizadas (orienta√ß√£o geral, n√£o diagn√≥stico).</p>

    <!-- ===== CONTEXTO BRASIL (IN√çCIO DO SITE) ===== -->
    <div class="card context" id="contexto-brasil">
      <div class="section-title">
        <h2>Contexto Brasil ‚Äî excesso de peso, obesidade e sedentarismo</h2>
        <span class="muted">Dados para refer√™ncia e compara√ß√£o</span>
      </div>

      <!-- KPIs (Resumo executivo) -->
      <div class="kpis">
        <div class="kpi">
          <div class="k">Excesso de peso (adultos)</div>
          <div class="v">‚âà 60%</div>
          <div class="t">60% dos adultos brasileiros t√™m excesso de peso</div>
        </div>
        <div class="kpi">
          <div class="k">Obesidade (adultos)</div>
          <div class="v">‚âà 25%</div>
          <div class="t">1 em cada 4 adultos √© obeso</div>
        </div>
        <div class="kpi">
          <div class="k">Inatividade f√≠sica</div>
          <div class="v">‚âà 47‚Äì50%</div>
          <div class="t">Quase metade n√£o atinge o recomendado</div>
        </div>
        <div class="kpi">
          <div class="k">Adolescentes inativos</div>
          <div class="v">‚âà 80‚Äì84%</div>
          <div class="t">Grupo mais sedent√°rio do pa√≠s</div>
        </div>
      </div>

      <hr class="hr" />

      <!-- Tabela 1 -->
      <div class="tablewrap">
        <table>
          <caption>üìä Tabela 1 ‚Äî Excesso de peso e obesidade por faixa et√°ria (Brasil)</caption>
          <thead>
            <tr>
              <th>Faixa et√°ria</th>
              <th>Excesso de peso (%)</th>
              <th>Obesidade (%)</th>
              <th>Observa√ß√£o</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td data-label="Faixa et√°ria">18‚Äì24 anos</td>
              <td data-label="Excesso de peso (%)">~40%</td>
              <td data-label="Obesidade (%)">~9‚Äì10%</td>
              <td data-label="Observa√ß√£o">Crescimento acelerado nos √∫ltimos anos</td>
            </tr>
            <tr>
              <td data-label="Faixa et√°ria">25‚Äì34 anos</td>
              <td data-label="Excesso de peso (%)">~55%</td>
              <td data-label="Obesidade (%)">~18%</td>
              <td data-label="Observa√ß√£o">Forte aumento p√≥s-juventude</td>
            </tr>
            <tr>
              <td data-label="Faixa et√°ria">35‚Äì44 anos</td>
              <td data-label="Excesso de peso (%)">~63%</td>
              <td data-label="Obesidade (%)">~25%</td>
              <td data-label="Observa√ß√£o">Consolida√ß√£o do excesso de peso</td>
            </tr>
            <tr>
              <td data-label="Faixa et√°ria">45‚Äì54 anos</td>
              <td data-label="Excesso de peso (%)">~68‚Äì70%</td>
              <td data-label="Obesidade (%)">~30%</td>
              <td data-label="Observa√ß√£o">Pico de obesidade</td>
            </tr>
            <tr>
              <td data-label="Faixa et√°ria">55‚Äì64 anos</td>
              <td data-label="Excesso de peso (%)">~67%</td>
              <td data-label="Obesidade (%)">~28%</td>
              <td data-label="Observa√ß√£o">Leve estabiliza√ß√£o</td>
            </tr>
            <tr>
              <td data-label="Faixa et√°ria">65+ anos</td>
              <td data-label="Excesso de peso (%)">~60%</td>
              <td data-label="Obesidade (%)">~22%</td>
              <td data-label="Observa√ß√£o">Redu√ß√£o relativa</td>
            </tr>
          </tbody>
        </table>
      </div>
      <div class="note">
        <strong>Leitura-chave:</strong> pico de obesidade entre <strong>45‚Äì54 anos</strong>. Jovens t√™m menor obesidade, mas crescimento r√°pido.
      </div>

      <hr class="hr" />

      <!-- Tabela 2 -->
      <div class="tablewrap">
        <table>
          <caption>üåé Tabela 2 ‚Äî Obesidade por regi√£o do Brasil (adultos)</caption>
          <thead>
            <tr>
              <th>Regi√£o</th>
              <th>Obesidade (%)</th>
              <th>Tend√™ncia</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td data-label="Regi√£o">Sul</td>
              <td data-label="Obesidade (%)">~17‚Äì18%</td>
              <td data-label="Tend√™ncia">Alta</td>
            </tr>
            <tr>
              <td data-label="Regi√£o">Sudeste</td>
              <td data-label="Obesidade (%)">~16‚Äì17%</td>
              <td data-label="Tend√™ncia">Alta</td>
            </tr>
            <tr>
              <td data-label="Regi√£o">Centro-Oeste</td>
              <td data-label="Obesidade (%)">~15‚Äì16%</td>
              <td data-label="Tend√™ncia">Moderada</td>
            </tr>
            <tr>
              <td data-label="Regi√£o">Nordeste</td>
              <td data-label="Obesidade (%)">~13‚Äì14%</td>
              <td data-label="Tend√™ncia">Crescente</td>
            </tr>
            <tr>
              <td data-label="Regi√£o">Norte</td>
              <td data-label="Obesidade (%)">~11‚Äì12%</td>
              <td data-label="Tend√™ncia">Menor, por√©m em alta</td>
            </tr>
          </tbody>
        </table>
      </div>
      <div class="note">
        <strong>Leitura-chave:</strong> <strong>Sul</strong> e <strong>Sudeste</strong> lideram; <strong>Norte</strong> e <strong>Nordeste</strong> crescem proporcionalmente mais.
      </div>

      <hr class="hr" />

      <!-- Tabela 3 -->
      <div class="tablewrap">
        <table>
          <caption>üèÉ‚Äç‚ôÇÔ∏è Tabela 3 ‚Äî Sedentarismo / inatividade f√≠sica</caption>
          <thead>
            <tr>
              <th>Indicador</th>
              <th>Percentual</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td data-label="Indicador">N√£o atinge n√≠vel recomendado de atividade f√≠sica</td>
              <td data-label="Percentual">~47‚Äì50%</td>
            </tr>
            <tr>
              <td data-label="Indicador">Sedentarismo elevado (‚â•6h sentados/dia)</td>
              <td data-label="Percentual">~30%</td>
            </tr>
          </tbody>
        </table>
      </div>

      <div style="margin-top:12px;" class="tablewrap">
        <table>
          <caption>üë∂üë®‚Äçü¶± Sedentarismo por faixa et√°ria</caption>
          <thead>
            <tr>
              <th>Faixa et√°ria</th>
              <th>Inatividade f√≠sica (%)</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td data-label="Faixa et√°ria">Adolescentes</td>
              <td data-label="Inatividade f√≠sica (%)">at√© ~80‚Äì84%</td>
            </tr>
            <tr>
              <td data-label="Faixa et√°ria">Jovens adultos (18‚Äì24)</td>
              <td data-label="Inatividade f√≠sica (%)">~55‚Äì60%</td>
            </tr>
            <tr>
              <td data-label="Faixa et√°ria">Adultos (25‚Äì59)</td>
              <td data-label="Inatividade f√≠sica (%)">~45‚Äì50%</td>
            </tr>
            <tr>
              <td data-label="Faixa et√°ria">Idosos (60+)</td>
              <td data-label="Inatividade f√≠sica (%)">~60‚Äì65%</td>
            </tr>
          </tbody>
        </table>
      </div>

      <div class="note">
        <strong>Leitura-chave:</strong> adolescentes s√£o o grupo mais sedent√°rio; inatividade volta a crescer fortemente na terceira idade.
        <br><strong>Tend√™ncia:</strong> crescimento cont√≠nuo at√© 2030‚Äì2045 (conforme seu resumo).
      </div>
    </div>
    <!-- ===== /CONTEXTO BRASIL ===== -->

    <div class="header">
      <div class="title">
        <h1>Relat√≥rio de Indicadores & Recomenda√ß√µes</h1>
        <p>Preencha o formul√°rio. Voc√™ receber√° indicadores e sugest√µes personalizadas (orienta√ß√£o geral).</p>
      </div>
    </div>

    <div class="card">
      <form id="healthForm" novalidate>
        <div class="hp">
          <label>Deixe em branco:
            <input type="text" name="website" autocomplete="off" />
          </label>
        </div>

        <div class="grid">
          <label>
            Idade (anos) *
            <input id="age" name="age" type="number" min="10" max="120" required placeholder="Ex.: 28" />
            <span class="error" data-for="age"></span>
          </label>

          <label>
            Objetivo principal *
            <select id="goal" name="goal" required>
              <option value="" selected>Selecione</option>
              <option value="Perda de peso">Perda de peso</option>
              <option value="Ganho de massa">Ganho de massa</option>
              <option value="Resist√™ncia">Resist√™ncia</option>
              <option value="Sa√∫de geral">Sa√∫de geral</option>
            </select>
            <span class="error" data-for="goal"></span>
          </label>
        </div>

        <div class="grid">
          <label>
            Peso (kg) *
            <input id="weight" name="weight" type="number" min="20" max="400" step="0.1" required placeholder="Ex.: 78.5" />
            <span class="error" data-for="weight"></span>
          </label>

          <label>
            Altura (m) *
            <input id="height" name="height" type="number" min="1" max="2.5" step="0.01" required placeholder="Ex.: 1.75" />
            <span class="error" data-for="height"></span>
          </label>
        </div>

        <fieldset>
          <legend>N√≠vel de atividade atual</legend>
          <div class="grid">
            <label>
              Quantos dias por semana voc√™ se exercita? *
              <select id="days" name="days" required>
                <option value="" selected>Selecione</option>
                <option value="0">0</option>
                <option value="1">1</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5</option>
                <option value="6">6</option>
                <option value="7">7</option>
              </select>
              <span class="error" data-for="days"></span>
            </label>

            <label>
              Tempo m√©dio por sess√£o (min) *
              <input id="minsPer" name="minsPer" type="number" min="5" max="300" required placeholder="Ex.: 40" />
              <span class="error" data-for="minsPer"></span>
            </label>
          </div>

          <div class="options">
            <label class="opt">
              <input type="radio" name="intensity" value="Leve" required />
              <div><div class="t">Leve</div><div class="d">Caminhada leve, mobilidade, esfor√ßo baixo.</div></div>
            </label>
            <label class="opt">
              <input type="radio" name="intensity" value="Moderado" />
              <div><div class="t">Moderado</div><div class="d">Suor leve/moderado, respira√ß√£o acelerada, ainda conversa.</div></div>
            </label>
            <label class="opt">
              <input type="radio" name="intensity" value="Intenso" />
              <div><div class="t">Intenso</div><div class="d">Alta intensidade, dif√≠cil manter conversa, esfor√ßo elevado.</div></div>
            </label>
          </div>
          <span class="error" data-for="intensity"></span>
        </fieldset>

        <fieldset>
          <legend>Limita√ß√µes e sa√∫de (para ajustar recomenda√ß√µes)</legend>
          <div class="options">
            <label class="opt">
              <input type="checkbox" name="limitations" value="Dor/les√£o recente" />
              <div><div class="t">Dor ou les√£o recente</div><div class="d">Ex.: joelho, lombar, ombro.</div></div>
            </label>
            <label class="opt">
              <input type="checkbox" name="limitations" value="Condi√ß√£o m√©dica" />
              <div><div class="t">Condi√ß√£o m√©dica relevante</div><div class="d">Ex.: hipertens√£o, diabetes, cardiopatias.</div></div>
            </label>
            <label class="opt">
              <input type="checkbox" name="limitations" value="Sedentarismo prolongado" />
              <div><div class="t">Sedentarismo prolongado</div><div class="d">Mais de 6 meses sem rotina de exerc√≠cios.</div></div>
            </label>
          </div>

          <label style="margin-top:10px;">
            Observa√ß√µes (opcional)
            <textarea id="notes" name="notes" placeholder="Ex.: prefer√™ncias, hor√°rios, limita√ß√µes espec√≠ficas..."></textarea>
          </label>
        </fieldset>

        <div class="row">
          <span class="help">Campos com * s√£o obrigat√≥rios. Resultado √© orienta√ß√£o geral, n√£o diagn√≥stico.</span>
          <div style="display:flex; gap:10px; flex-wrap:wrap;">
            <button class="btn secondary" type="button" id="resetBtn">Limpar</button>
            <button class="btn" type="submit" id="submitBtn">Gerar relat√≥rio</button>
          </div>
        </div>

        <div id="status" class="status" role="status" aria-live="polite"></div>
      </form>
    </div>

    <div id="results" class="results">
      <div class="card">
        <div class="section-title">
          <h2>Indicadores</h2>
          <span class="muted" id="stamp"></span>
        </div>

        <div class="cards">
          <div class="metric">
            <div class="k">IMC</div>
            <div class="v" id="imcVal">‚Äî</div>
            <div class="badge" id="imcBadge">‚Äî</div>
          </div>

          <div class="metric">
            <div class="k">Atividade (min/semana)</div>
            <div class="v" id="minsWeekVal">‚Äî</div>
            <div class="badge" id="omsBadge">‚Äî</div>
          </div>

          <div class="metric">
            <div class="k">Score de prontid√£o</div>
            <div class="v" id="readinessVal">‚Äî</div>
            <div class="badge" id="readinessBadge">‚Äî</div>
          </div>
        </div>
      </div>

      <div class="card">
        <div class="section-title">
          <h2>Recomenda√ß√µes personalizadas</h2>
          <span class="muted">Baseado nas suas respostas</span>
        </div>

        <div id="flagsBox" style="margin-bottom:12px;"></div>

        <div class="grid">
          <div>
            <div class="section-title">
              <h2>Plano semanal sugerido</h2>
              <span class="muted">Ajust√°vel</span>
            </div>
            <ul id="planList"></ul>
          </div>

          <div>
            <div class="section-title">
              <h2>H√°bitos e foco</h2>
              <span class="muted">Sem extremismos</span>
            </div>
            <ul id="habitsList"></ul>
          </div>
        </div>

        <div style="margin-top:14px;" class="muted">
          Aviso: este relat√≥rio √© educativo e n√£o substitui avalia√ß√£o profissional. Se voc√™ marcou condi√ß√£o m√©dica/les√£o,
          considere orienta√ß√£o de m√©dico/fisioterapeuta/educador f√≠sico.
        </div>
      </div>
    </div>

  </div>

  <script>
    // ============ UTIL ============
    const $ = (id) => document.getElementById(id);

    const form = $("healthForm");
    const statusEl = $("status");
    const resultsEl = $("results");
    const submitBtn = $("submitBtn");
    const resetBtn = $("resetBtn");

    function setStatus(msg, type){
      statusEl.className = "status " + (type === "ok" ? "ok" : "bad");
      statusEl.textContent = msg;
      statusEl.style.display = "block";
    }
    function clearStatus(){
      statusEl.style.display = "none";
      statusEl.textContent = "";
      statusEl.className = "status";
    }

    function showError(key, msg){
      const el = document.querySelector(`.error[data-for="${key}"]`);
      if (!el) return;
      el.textContent = msg;
      el.classList.add("show");
    }
    function clearError(key){
      const el = document.querySelector(`.error[data-for="${key}"]`);
      if (!el) return;
      el.textContent = "";
      el.classList.remove("show");
    }

    function getRadio(name){
      const el = form.querySelector(`input[type="radio"][name="${name}"]:checked`);
      return el ? el.value : "";
    }
    function getChecks(name){
      return Array.from(form.querySelectorAll(`input[type="checkbox"][name="${name}"]:checked`)).map(x => x.value);
    }

    function round1(n){ return Math.round(n * 10) / 10; }
    function clamp(n, a, b){ return Math.max(a, Math.min(b, n)); }

    // ============ INDICADORES ============
    function calcIMC(weightKg, heightM){
      return weightKg / (heightM * heightM);
    }

    function imcCategory(imc){
      if (imc < 18.5) return { label: "Abaixo do peso", tone: "warn" };
      if (imc < 25)   return { label: "Peso adequado", tone: "ok" };
      if (imc < 30)   return { label: "Sobrepeso", tone: "warn" };
      if (imc < 35)   return { label: "Obesidade I", tone: "bad" };
      if (imc < 40)   return { label: "Obesidade II", tone: "bad" };
      return { label: "Obesidade III", tone: "bad" };
    }

    function activityMinutesPerWeek(days, minsPerSession){
      return days * minsPerSession;
    }

    function omsStatus(minutesWeek, intensity){
      let equiv = minutesWeek;
      if (intensity === "Intenso") equiv = minutesWeek * 2;
      if (intensity === "Leve")   equiv = minutesWeek * 0.6;

      if (equiv >= 300) return { label: "Acima do recomendado", tone: "ok", equiv };
      if (equiv >= 150) return { label: "Dentro do recomendado", tone: "ok", equiv };
      if (equiv >= 75)  return { label: "Abaixo do ideal (quase l√°)", tone: "warn", equiv };
      return { label: "Sedentarismo elevado", tone: "bad", equiv };
    }

    function readinessScore(minutesWeek, intensity, limitations){
      const oms = omsStatus(minutesWeek, intensity);
      let base = 1;

      if (oms.equiv >= 300) base = 9;
      else if (oms.equiv >= 150) base = 7;
      else if (oms.equiv >= 75) base = 5;
      else base = 3;

      if (intensity === "Intenso" && oms.equiv >= 150) base += 1;
      if (intensity === "Leve" && oms.equiv < 150) base -= 0.5;

      if (limitations.includes("Condi√ß√£o m√©dica")) base -= 2;
      if (limitations.includes("Dor/les√£o recente")) base -= 1.5;
      if (limitations.includes("Sedentarismo prolongado")) base -= 1;

      base = clamp(base, 1, 10);
      return Math.round(base);
    }

    // ============ RECOMENDA√á√ïES ============
    function buildRecommendations(input){
      const { age, goal, weight, height, days, minsPer, intensity, limitations, notes } = input;

      const imc = calcIMC(weight, height);
      const imcCat = imcCategory(imc);
      const minWeek = activityMinutesPerWeek(days, minsPer);
      const oms = omsStatus(minWeek, intensity);
      const score = readinessScore(minWeek, intensity, limitations);

      const flags = [];
      if (limitations.includes("Condi√ß√£o m√©dica")) flags.push({ tone:"warn", text:"Voc√™ marcou condi√ß√£o m√©dica: recomenda-se valida√ß√£o com profissional antes de aumentar intensidade." });
      if (limitations.includes("Dor/les√£o recente")) flags.push({ tone:"warn", text:"Voc√™ marcou dor/les√£o recente: priorize baixo impacto e progress√£o gradual; considere fisioterapia." });
      if (age < 16) flags.push({ tone:"warn", text:"Para menores de idade, recomenda-se orienta√ß√£o profissional e foco em t√©cnica, seguran√ßa e h√°bitos." });
      if (imc >= 35) flags.push({ tone:"warn", text:"IMC elevado: priorize consist√™ncia, baixo impacto e acompanhamento profissional para seguran√ßa." });

      const plan = [];
      const habits = [];
      const cautious = limitations.length > 0 || score <= 4 || oms.tone === "bad";

      if (cautious) {
        plan.push("Comece com 3 sess√µes/semana de 20‚Äì30 min (caminhada, bike leve, mobilidade), por 2 semanas.");
        plan.push("Aumente 10% no volume semanal a cada semana (tempo total), se estiver confort√°vel.");
        plan.push("Inclua 2 dias/semana de fortalecimento leve (corpo inteiro): agachamento assistido, remada el√°stica, ponte, prancha curta.");
      } else {
        if (goal === "Perda de peso") {
          plan.push("4‚Äì5 dias/semana: 30‚Äì45 min de cardio moderado (caminhada r√°pida, bike, el√≠ptico).");
          plan.push("2‚Äì3 dias/semana: treino de for√ßa (corpo inteiro) para preservar massa magra.");
          plan.push("1 dia opcional: intervalos leves (ex.: 6x 1 min mais forte / 2 min leve) se j√° estiver adaptado.");
        } else if (goal === "Ganho de massa") {
          plan.push("3‚Äì5 dias/semana: treino de for√ßa progressivo (foco em grandes grupos musculares).");
          plan.push("2 dias/semana: cardio leve/moderado 20‚Äì30 min para condicionamento e recupera√ß√£o.");
          plan.push("Meta: manter consist√™ncia e progress√£o (carga/reps) semanalmente.");
        } else if (goal === "Resist√™ncia") {
          plan.push("4‚Äì6 dias/semana: cardio estruturado (2 dias moderado + 1 dia longo + 1 dia intervalado).");
          plan.push("2 dias/semana: for√ßa funcional (core, posterior, quadril) para preven√ß√£o de les√µes.");
          plan.push("Aumente volume com progress√£o gradual (5‚Äì10%/semana).");
        } else {
          plan.push("4‚Äì5 dias/semana: 30‚Äì40 min atividade moderada (caminhada r√°pida, nata√ß√£o, bike).");
          plan.push("2 dias/semana: for√ßa (corpo inteiro) e mobilidade.");
          plan.push("Meta: ficar entre 150‚Äì300 min/semana (equivalente moderado).");
        }
      }

      if (oms.equiv < 150) habits.push("Priorize consist√™ncia: 150 min/semana √© uma boa meta inicial (progredindo aos poucos).");
      else habits.push("Mantenha a consist√™ncia e varie est√≠mulos (cardio + for√ßa) para resultados e sa√∫de geral.");

      if (imcCat.label === "Abaixo do peso") habits.push("Se o objetivo for desempenho/sa√∫de, foque em for√ßa e alimenta√ß√£o suficiente; considere avalia√ß√£o nutricional.");
      else if (imcCat.label === "Sobrepeso" || imcCat.tone !== "ok") habits.push("Foque em d√©ficit cal√≥rico moderado e aumento de movimento di√°rio (passos), evitando mudan√ßas extremas.");
      else habits.push("Para manuten√ß√£o, foque em rotina sustent√°vel: treino + sono + alimenta√ß√£o equilibrada.");

      habits.push("Sono: tente manter rotina e qualidade; recupera√ß√£o influencia diretamente desempenho e ader√™ncia.");
      habits.push("Hidrata√ß√£o: mantenha ingest√£o regular ao longo do dia, especialmente em dias de treino.");

      if (intensity === "Intenso" && (limitations.length > 0 || score <= 6)) habits.push("Se voc√™ faz treino intenso, garanta dias leves e t√©cnica adequada para reduzir risco de les√£o.");
      else if (intensity === "Leve" && goal !== "Sa√∫de geral") habits.push("Se o objetivo for performance/resultado, considere evoluir para moderado gradualmente.");

      if (notes && notes.trim().length > 0) habits.push("Observa√ß√£o: personalize ainda mais o plano conforme suas prefer√™ncias e limita√ß√µes descritas.");

      return { imc, imcCat, minWeek, oms, score, plan, habits, flags };
    }

    // ============ VALIDA√á√ÉO ============
    function validate(){
      clearStatus();
      let ok = true;

      const age = Number($("age").value);
      const goal = $("goal").value;
      const weight = Number($("weight").value);
      const height = Number($("height").value);
      const days = $("days").value === "" ? NaN : Number($("days").value);
      const minsPer = Number($("minsPer").value);
      const intensity = getRadio("intensity");

      ["age","goal","weight","height","days","minsPer","intensity"].forEach(k => clearError(k));

      if (!(age >= 10 && age <= 120)) { showError("age","Informe uma idade v√°lida (10‚Äì120)."); ok = false; }
      if (!goal) { showError("goal","Selecione um objetivo."); ok = false; }
      if (!(weight > 0)) { showError("weight","Informe um peso v√°lido."); ok = false; }
      if (!(height >= 1 && height <= 2.5)) { showError("height","Informe uma altura v√°lida em metros (ex.: 1.75)."); ok = false; }
      if (!(days >= 0 && days <= 7)) { showError("days","Selecione dias por semana."); ok = false; }
      if (!(minsPer >= 5 && minsPer <= 300)) { showError("minsPer","Informe minutos por sess√£o (5‚Äì300)."); ok = false; }
      if (!intensity) { showError("intensity","Selecione a intensidade."); ok = false; }

      return ok;
    }

    // ============ RENDER ============
    function setBadge(el, text, tone){
      el.textContent = text;
      el.className = "badge " + (tone || "");
    }

    function renderReport(out){
      $("imcVal").textContent = (Math.round(out.imc * 10) / 10).toFixed(1);
      setBadge($("imcBadge"), out.imcCat.label, out.imcCat.tone);

      $("minsWeekVal").textContent = String(out.minWeek);
      const omsTxt = `${out.oms.label} (equiv.: ${Math.round(out.oms.equiv)} min/mod.)`;
      setBadge($("omsBadge"), omsTxt, out.oms.tone);

      $("readinessVal").textContent = String(out.score) + "/10";
      const rTone = out.score >= 7 ? "ok" : (out.score >= 5 ? "warn" : "bad");
      const rLabel = out.score >= 7 ? "Boa prontid√£o" : (out.score >= 5 ? "Prontid√£o moderada" : "Comece com cautela");
      setBadge($("readinessBadge"), rLabel, rTone);

      const now = new Date();
      $("stamp").textContent = `Gerado em ${now.toLocaleString("pt-BR")}`;

      const flagsBox = $("flagsBox");
      flagsBox.innerHTML = "";
      if (out.flags.length > 0) {
        out.flags.forEach(f => {
          const div = document.createElement("div");
          div.className = "badge " + (f.tone || "");
          div.style.marginBottom = "8px";
          div.textContent = f.text;
          flagsBox.appendChild(div);
        });
      }

      const planUl = $("planList");
      planUl.innerHTML = "";
      out.plan.forEach(item => {
        const li = document.createElement("li");
        li.textContent = item;
        planUl.appendChild(li);
      });

      const habitsUl = $("habitsList");
      habitsUl.innerHTML = "";
      out.habits.forEach(item => {
        const li = document.createElement("li");
        li.textContent = item;
        habitsUl.appendChild(li);
      });

      resultsEl.style.display = "grid";
      resultsEl.scrollIntoView({ behavior: "smooth", block: "start" });
    }

    // ============ EVENTS ============
    resetBtn.addEventListener("click", () => {
      form.reset();
      clearStatus();
      resultsEl.style.display = "none";
      ["age","goal","weight","height","days","minsPer","intensity"].forEach(k => clearError(k));
      window.scrollTo({ top: 0, behavior: "smooth" });
    });

    form.addEventListener("submit", (e) => {
      e.preventDefault();

      const hp = form.elements["website"]?.value?.trim();
      if (hp) { setStatus("Envio bloqueado (anti-spam).", "bad"); return; }

      if (!validate()) {
        setStatus("Revise os campos destacados e tente novamente.", "bad");
        return;
      }

      submitBtn.disabled = true;
      submitBtn.textContent = "Gerando...";

      const input = {
        age: Number($("age").value),
        goal: $("goal").value,
        weight: Number($("weight").value),
        height: Number($("height").value),
        days: Number($("days").value),
        minsPer: Number($("minsPer").value),
        intensity: getRadio("intensity"),
